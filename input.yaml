# Block instantiation
Source:
  type: Source
  class: nanoporeData
  parameters:
    path: Data_interim/Dimer_samples_-300mV.abf
    channel: 0

Block1:
  type: Process
  class: BesselLPF
  parameters:
    order: 4
    cutoff: 1600
    samplingFreq: $Source.attr.samplingFreq
  inputs:
    - $Source.attr.getChannel

Block2:
  type: Process
  class: BaselineMovMean
  parameters:
    window: 10000
  inputs:
    - $Block1.output

Block3:
  type: Process
  class: SubtractAndFlip
  inputs:
    - $Block1.output
    - $Block2.output

Sink:
  type: Sink
  class: EventDetect
  parameters:
    threshold: 50
    samplingTime: $Source.attr.samplingTime
  inputs:
    - $Block3.output

Density:
  type: Visualiser
  class: DensityPlot
  parameters:
    resolution: 300
    figure_options:
      ylabel: Amplitude (pA) 
      xlabel: Dwell Time (ms)
  inputs:
    - $Sink.output.Amplitudes
    - $Sink.output.dwellTimes

Histogram:
  type: Visualiser
  class: Histogram
  parameters:
    binWidth: 1
    figure_options:
      title: Data Points Histogram
  inputs:
    - $Block3.output

Plot:
  type: Visualiser
  class: FFTPlot
  parameters:
    samplingTime: $Source.attr.samplingTime
    figure_options:
      title: Signal FFT
      ylabel: Magnitude
      xlabel: Frequency (Hz)
  inputs:
    - $Block3.output